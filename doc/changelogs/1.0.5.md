# Changelog 1.0.5

## Major Changes

### Controller Support Added
- **Full Gamepad Navigation** - Complete controller/gamepad support for all menus
- **D-Pad Navigation** - Navigate up/down through menu options with directional pad
- **Button Mapping** - Configurable controller buttons for menu, back, and select
- **Universal Compatibility** - Works with Xbox, PlayStation, Nintendo Switch Pro, and generic controllers
- **Visual Feedback** - Controller button hints displayed at bottom of screen
- **Smooth Navigation** - Timed navigation delay prevents accidental double-inputs

### Default Controller Bindings
- **Menu Toggle**: Select/Back button (JoystickButton6)
- **Go Back**: B/Circle button (JoystickButton1)
- **Select/Activate**: A/Cross button (JoystickButton0)
- **Navigate**: D-Pad Vertical axis
- All bindings fully customizable in config file

### Cult Theme UI
- **Dark Red Theme** - Crimson and burgundy colors matching game aesthetic
- **Bone White Text** - High contrast text with cult-themed styling
- **Golden Accents** - Selected states use golden/purple highlights
- **Thematic Icons** - † (cross/dagger) symbols in title bars
- **Shadow Effects** - Layered dark reds create depth
- **Category Style** - >> arrows and enhanced button styling

### Color Palette
- **Background**: Dark burgundy (#2E1719)
- **Buttons**: Nearly black (#141416)
- **Hover**: Crimson red (#A62129)
- **Selected**: Dark purple with gold text (#261226 + #D9BF73)
- **Title Bar**: Blood red (#A62129)
- **Text**: Bone white (#F2EBE0)

### Bug Fixes
- **Fixed UnlockAbility Patch Error** - Gracefully handles method signature changes
- **No More Crash on Load** - Patching errors no longer prevent mod loading
- **Better Error Messages** - Clear warnings instead of crashes for missing methods
- **Compatibility Mode** - Mod works even if some patches fail

### Technical Improvements
- **Graceful Degradation** - Mod functions even if UnlockAbility patch fails
- **Try-Catch Protection** - All risky patches wrapped in exception handling
- **Detailed Logging** - Better error messages pointing to XUnfairX
- **Version Compatibility** - Works across multiple game versions

### Rebranding
- **New Maintainer**: XUnfairX
- **Updated IDs**: Plugin ID changed to org.xunfairx.cheat_menu
- **Updated Harmony**: Harmony ID changed to org.xunfairx.cheat_menu
- **Updated Messages**: All error messages reference XUnfairX
- **Updated Documentation**: README and docs reflect new ownership

## Configuration Options

### New Config Entries
```
[Controller]
Enable Controller Support = true
Menu Button = JoystickButton6
Back Button = JoystickButton1
Select Button = JoystickButton0
```

### Controller Button Reference
Common controller mappings:
- **Button 0**: A (Xbox), Cross (PS), B (Switch)
- **Button 1**: B (Xbox), Circle (PS), A (Switch)
- **Button 2**: X (Xbox), Square (PS), Y (Switch)
- **Button 3**: Y (Xbox), Triangle (PS), X (Switch)
- **Button 6**: Back/Select (most controllers)
- **Button 7**: Start (most controllers)

## UI Changes

### Button Styling
- **Regular Buttons**: Dark with crimson border, crimson on hover
- **Category Buttons**: Enhanced with >> arrows, larger and bolder
- **Selected Buttons**: Dark purple background with golden text
- **Toggle States**: Clear [ON]/[OFF] indicators

### Visual Indicators
- **Title Decorations**: † symbols frame title text
- **Category Arrows**: >> and << for navigation clarity
- **State Indicators**: [ON] and [OFF] prefixes on toggle buttons
- **Navigation Hints**: Controller or keyboard hints at bottom

### Layout Improvements
- **Window Size**: 650×750px for better visibility
- **Button Width**: 530px (was 480px)
- **Spacing**: Consistent 5px gaps maintained
- **Padding**: Increased internal padding for readability

## Breaking Changes
- **Plugin GUID Changed**: `org.wicked.cheat_menu` ? `org.xunfairx.cheat_menu`
- **Harmony ID Changed**: Update may require reinstall for clean patching
- **Config Section Added**: New [Controller] config section created

## Performance
- **No Impact**: Controller polling uses Unity's input system efficiently
- **Optimized Navigation**: Timed delays prevent rapid-fire inputs
- **Memory Efficient**: Navigation variables use minimal memory
- **No Lag**: All input handling in Update() with proper timing

## Compatibility
- **Game Version**: Cult of the Lamb v1.5.16.1000+
- **BepInEx**: 5.4.21+
- **Controllers**: Xbox, PlayStation, Switch Pro, Generic USB/Bluetooth gamepads
- **Operating Systems**: Windows, Linux (Steam Deck tested), macOS

## Known Issues
- None currently reported

## Migration from 1.0.4
1. Delete old CheatMenu files from BepInEx/plugins
2. Install v1.0.5 as new installation
3. Config will auto-generate with controller support
4. Previous keybinds will need to be re-configured

## Credits
- **Original Author**: Wicked7000
- **Current Maintainer**: XUnfairX
- **Contributors**: Community bug reports and feedback

---

**Full controller support finally here! Navigate the cult with your gamepad! ???**
